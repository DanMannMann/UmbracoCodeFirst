<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Using Code-First with Umbraco Property Editor Value Converters</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="787d469d-06cb-4ba1-8b13-d889e1b88c72" /><meta name="Description" content="Code-First can be used together with Umbraco's property editor value converters to create document types composed of the Umbraco types instead of &quot;full&quot; Code-First data types." /><meta name="Microsoft.Help.ContentType" content="Concepts" /><meta name="BrandingAware" content="true" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Felinesoft Code-First for Umbraco<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="04441c6f-baf5-4f66-a724-d0107a13af66.htm" title="Felinesoft Code-First for Umbraco" tocid="roottoc">Felinesoft Code-First for Umbraco</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="04441c6f-baf5-4f66-a724-d0107a13af66.htm" title="Getting Started" tocid="04441c6f-baf5-4f66-a724-d0107a13af66">Getting Started</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="ea9b7789-8c43-48af-9c5e-7860e55cabe1.htm" title="Working With Data Types" tocid="ea9b7789-8c43-48af-9c5e-7860e55cabe1">Working With Data Types</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="1a5b08a0-7cdf-4538-b315-9e0652e5e6e0.htm" title="Creating Custom Data Types" tocid="1a5b08a0-7cdf-4538-b315-9e0652e5e6e0">Creating Custom Data Types</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="f13fc6da-38dc-4585-b0f3-e701d17d03e1.htm" title="Working With Pre-Values" tocid="f13fc6da-38dc-4585-b0f3-e701d17d03e1">Working With Pre-Values</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="787d469d-06cb-4ba1-8b13-d889e1b88c72.htm" title="Using Code-First with Umbraco Property Editor Value Converters" tocid="787d469d-06cb-4ba1-8b13-d889e1b88c72">Using Code-First with Umbraco Property Editor Value Converters</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="47c8c745-bef7-41c6-bd7a-d3424c627e78.htm" title="Registering Existing Classes as Data Types" tocid="47c8c745-bef7-41c6-bd7a-d3424c627e78">Registering Existing Classes as Data Types</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img src="../icons/feline.png" /></td><td class="titleColumn">Using Code-First with Umbraco Property Editor Value Converters</td></tr></table><span class="introStyle"></span><div class="introduction"><p>Code-First can be used together with Umbraco's property editor value converters to create document types composed of
      the Umbraco types instead of "full" Code-First data types.</p><div class="alert"><table><tr><th><img src="../icons/AlertCaution.png" alt="Caution note" /> Caution</th></tr><tr><td><p>
          Property Editor Value Converters (PEVCs) are currently only compatible with IPublishedContent, not with IContent. Properties using
          PEVCs will cause exceptions if you try to persist them to the database by calling DocumentTypeBase.Persist(), or try to convert an IContent
          to a model by calling the IContent.ConvertToModel() extension method. All other operations
          (e.g. IPublishedContent.ConvertToModel(), strongly-typed views, the document helper etc) are based on IPublishedContent and are therefore supported.</p></td></tr></table></div></div><div id="ID1RBSection" class="collapsibleSection"><p>
          PEVC data types can be used in the same way as "full" code-first data types, but the data type name must be specified in the 
          <a href="e5b2e294-c2c2-97c2-f5f6-25f0e43971f6.htm">ContentPropertyAttribute</a>.
        </p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EABBBAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EABBBAAA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID0EABBBAAA');return false;" title="Copy">Copy</a></div></div><div id="ID0EABBBAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">[DocumentType]
<span class="highlight-keyword">public</span> <span class="highlight-keyword">class</span> ExampleDocType : DocumentTypeBase
{
    <span class="highlight-comment">//The value converter for the checkbox property editor returns a boolean value. The underlying storage type for the value is integer.</span>
    [ContentProperty(dataType: BuiltInDataTypes.TrueFalse)]
    <span class="highlight-keyword">public</span> <span class="highlight-keyword">bool</span> Enabled { <span class="highlight-keyword">get</span>; <span class="highlight-keyword">set</span>; }

    <span class="highlight-comment">//The value converter for the grid property editor returns a JObject containing the grid's json value. The underlying storage type for the value is string (Ntext).</span>
    [ContentProperty(dataType: <span class="highlight-literal">"My Existing Grid Data Type"</span>)]
    <span class="highlight-keyword">public</span> JObject Content { <span class="highlight-keyword">get</span>; <span class="highlight-keyword">set</span>; }
}</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EABBBAAA");</script><div class="alert"><table><tr><th><img src="../icons/AlertCaution.png" alt="Caution note" /> Caution</th></tr><tr><td><p><a href="ea9b7789-8c43-48af-9c5e-7860e55cabe1.htm#inline">Data type instance pre-value attributes</a> cannot be used with PEVC properties. Pre-values for
            types used in PEVC properties need to be managed in the back-office or via a code-first data type class with the correct alias.
          </p></td></tr></table></div></div></div></div><div id="pageFooter" class="pageFooter" /></body></html>